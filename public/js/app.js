window.App=Ember.Application.create(),App.ApplicationAdapter=DS.FixtureAdapter.extend(),App.ApplicationAdapter=DS.LSAdapter.extend({namespace:"todos-emberjs"}),App.Router.map(function(){this.resource("todos",{path:"/"},function(){this.route("active"),this.route("completed")})}),App.TodosRoute=Ember.Route.extend({model:function(){return this.store.find("todo")}}),App.TodosIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("todos")}}),App.TodosActiveRoute=Ember.Route.extend({model:function(){return this.store.filter("todo",function(e){return!e.get("isCompleted")})},renderTemplate:function(e){this.render("todos/index",{controller:e})}}),App.TodosCompletedRoute=Ember.Route.extend({model:function(){return this.store.filter("todo",function(e){return e.get("isCompleted")})},renderTemplate:function(e){this.render("todos/index",{controller:e})}}),App.Todo=DS.Model.extend({title:DS.attr("string"),isCompleted:DS.attr("boolean")}),App.Todo.FIXTURES=[{id:1,title:"Compléter le todo avec EmberJs",isCompleted:!1},{id:2,title:"Apprendre Gulp",isCompleted:!0},{id:3,title:"Le todo en Angular2",isCompleted:!0},{id:4,title:"Etre patiente ! :)",isCompleted:!1}],App.TodosController=Ember.ArrayController.extend({actions:{createTodo:function(){var e=this.get("newTitle");if(e.trim()){var t=this.store.createRecord("todo",{title:e,isCompleted:!1});this.set("newTitle",""),t.save()}},clearCompleted:function(){var e=this.filterProperty("isCompleted",!0);e.invoke("deleteRecord"),e.invoke("save")}},remaining:function(){return this.filterProperty("isCompleted",!1).get("length")}.property("@each.isCompleted"),inflection:function(){var e=this.get("remaining");return 1===e?"tâche":"tâches"}.property("remaining"),hasCompleted:function(){return this.get("completed")>0}.property("completed"),completed:function(){return this.filterProperty("isCompleted",!0).get("length")}.property("@each.isCompleted"),allAreDone:function(e,t){return void 0===t?!this.get("length")&&this.everyProperty("isCompleted",!0):(this.setEach("isCompleted",t),this.invoke("save"),t)}.property("@each.isCompleted")}),App.TodoController=Ember.ObjectController.extend({actions:{editTodo:function(){this.set("isEditing",!0)},acceptChanges:function(){this.set("isEditing",!1),Ember.isEmpty(this.get("model.title"))?this.send("removeTodo"):this.get("model").save()},removeTodo:function(){var e=this.get("model");e.deleteRecord(),e.save()}},isEditing:!1,isCompleted:function(e,t){var o=this.get("model");return void 0===t?o.get("isCompleted"):(o.set("isCompleted",t),o.save(),t)}.property("model.isCompleted")}),App.EditTodoView=Ember.TextField.extend({didInsertElement:function(){this.$().focus()}}),Ember.Handlebars.helper("edit-todo",App.EditTodoView);